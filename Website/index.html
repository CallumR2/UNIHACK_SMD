<!DOCTYPE html>
<html>

<head>
    <title>SMD</title>
    <link rel="stylesheet" href="/index.css">
    <script src="https://cdn.socket.io/4.5.4/socket.io.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="components.js"> </script>
    <script>
        if (typeof window !== 'undefined') {
            window.onload = () => {
                getAPILogin().then(res => {document.getElementById('apiTokenDiv').innerHTML = res})
                getLocation().then(res => {
                    document.getElementById('locationDiv').innerHTML = res.coords.latitude + ',' + res.coords.longitude
                })
                window.setInterval(set_current_time, 1000)
            }
        }


    </script>
</head>

<body>
    <h1>Solar Movement Device Control Panel</h1>
    <canvas id="voltChart"></canvas>
    <label for="control_mode">Pick a control mode:</label>
    <div>
        <input type="radio" id="manual" onclick="change_mode()" name="control_mode">
        <label for="manual">Manual Adjustment</label>
        <input type="radio" id="auto" onclick="change_mode()" name="control_mode">
        <label for="auto">Time Controlled</label>
        <div id="manualControls">
            <input class="sliders" onmouseup="handleXServo()" id="xDeg" type="range" min="0" max="255"></input>
            <input class="sliders"onmouseup="handleYServo()" id="yDeg" type="range" min="0" max="255"></input>
        </div>
        <div id="autoControls">
            <input id="time_input" type="datetime-local"></input>
            <input id="time_check" type="checkbox" onclick='handle_time_input()' value='Set to current Time'></input>
            <div id="API_Params">
                <div id="azimuth">Azimuth</div>
                <div id="elevation">Elevation</div>
                <button onclick="handleSunDirect()">Help Me</button>
            </div>
        </div>
    </div>


    <div id="constantData">
        <div id="apiTokenDiv">Test</div>
        <div id="locationDiv">Test</div>
        <div id="timeInputDiv">Test</div>
    </div>
</body>

<script src="chart.js"> </script>

</html>